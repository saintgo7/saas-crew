# =============================================================================
# WKU Software Crew API - Environment Configuration
# Copy this file to .env and configure for your environment
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=4000
NODE_ENV=development  # development | staging | production

# -----------------------------------------------------------------------------
# Frontend URL (for CORS & OAuth redirects)
# -----------------------------------------------------------------------------
FRONTEND_URL=http://localhost:3000

# Production examples:
# FRONTEND_URL=https://wku-crew.com
# FRONTEND_URL=https://staging.wku-crew.com

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/wku_crew?schema=public"

# Production example (with connection pooling):
# DATABASE_URL="postgresql://user:password@db.example.com:5432/wku_crew?schema=public&connection_limit=10"

# -----------------------------------------------------------------------------
# JWT Configuration
# -----------------------------------------------------------------------------
# Generate a secure secret: openssl rand -base64 64
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN=7d  # Token expiration time

# -----------------------------------------------------------------------------
# GitHub OAuth Configuration
# Create OAuth App: https://github.com/settings/developers
# -----------------------------------------------------------------------------
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"
GITHUB_CALLBACK_URL="http://localhost:4000/api/auth/github/callback"

# Production examples:
# GITHUB_CALLBACK_URL=https://api.wku-crew.com/api/auth/github/callback

# -----------------------------------------------------------------------------
# Google OAuth Configuration (Optional)
# Create OAuth credentials: https://console.cloud.google.com/apis/credentials
# -----------------------------------------------------------------------------
# GOOGLE_CLIENT_ID="your-google-client-id"
# GOOGLE_CLIENT_SECRET="your-google-client-secret"
# GOOGLE_CALLBACK_URL="http://localhost:4000/api/auth/google/callback"

# -----------------------------------------------------------------------------
# Redis Configuration (Optional - for caching/sessions)
# -----------------------------------------------------------------------------
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# File Storage Configuration (Optional)
# -----------------------------------------------------------------------------
# STORAGE_TYPE=local  # local | s3 | cloudflare-r2
# S3_BUCKET=wku-crew-uploads
# S3_REGION=ap-northeast-2
# S3_ACCESS_KEY_ID=
# S3_SECRET_ACCESS_KEY=

# -----------------------------------------------------------------------------
# Email Configuration (Optional)
# -----------------------------------------------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# EMAIL_FROM=noreply@wku-crew.com

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# LOG_LEVEL=debug  # debug | info | warn | error
# LOG_FORMAT=json  # json | pretty

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# RATE_LIMIT_TTL=60
# RATE_LIMIT_MAX=100

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Production examples:
# ALLOWED_ORIGINS=https://wku-crew.com,https://www.wku-crew.com,https://admin.wku-crew.com

# Session secret (generate with: openssl rand -base64 32)
SESSION_SECRET="your-session-secret-change-this-in-production"

# Rate limiting
RATE_LIMIT_TTL=60        # Time window in seconds
RATE_LIMIT_MAX=100       # Max requests per window
RATE_LIMIT_LOGIN_MAX=5   # Max login attempts per 5 minutes
RATE_LIMIT_LOGIN_TTL=300 # 5 minutes in seconds

# HTTPS configuration (production only)
# FORCE_HTTPS=true
# HSTS_MAX_AGE=31536000  # 1 year in seconds
